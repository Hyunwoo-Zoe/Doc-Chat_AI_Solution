
/* ==========================================================================
   globals.css
   Next.js 전역 스타일 정의
   --------------------------------------------------------------------------
   설계 포인트
   ===========
   1) Tailwind 기반 유틸리티를 확장하는 글로벌 스타일.
   2) 라이트/다크 모드 컬러 변수와 폰트 정의.
   3) 공통 디자인 토큰(색상, radius, spacing)을 :root 변수로 제공.
   4) 개별 컴포넌트의 스타일 충돌을 최소화하고 전역 기준만 제어.
   ========================================================================== */

@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ───────────────────────────── 라이트/다크 컬러 변수 정의 ───────────────────────────── */
@layer base {
  :root {
    /* 라이트 모드: 전체 배경/텍스트 색상 변수 */
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    /* 카드/팝오버/기본 색상군 정의 */
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    /* 주요 색상 팔레트 */
    --primary: 240 5.9% 10%;
    --primary-foreground: 0 0% 98%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    /* 경계선, 입력 필드, 포커스 링 */
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 240 10% 3.9%;
    /* 공통 radius */
    --radius: 0.5rem;
  }

  .dark {
    /* 다크 모드: 라이트 변수와 반전된 팔레트 */
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
  }
}

/* ───────────────────────────── Tailwind Base 확장 ───────────────────────────── */
@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui,
      Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo',
      'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji',
      'Segoe UI Symbol', sans-serif;
  }
}

/* ───────────────────────────── Theme Inline 토큰 ───────────────────────────── */
/* radius, color 등 디자인 토큰 변수를 Tailwind theme 확장에서 재사용 */
@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  /* 색상 토큰 → Tailwind 색상 시스템과 매핑 */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/* ───────────────────────────── OKLCH 기반 색상 팔레트 ───────────────────────────── */
/* Tailwind v3에서 권장하는 색상 모델 → 접근성/밝기 조정 용이 */
:root {
  /* (중략) 이미 정의된 OKLCH 팔레트 그대로 유지 */
}

.dark {
  /* (중략) 다크 모드 OKLCH 팔레트 */
}

/* ───────────────────────────── 기본 스타일 ───────────────────────────── */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
